Product Requirements Document (PRD) - OtservHub (MVP)

Propriedade

Detalhes

Produto

OtservHub

Vers√£o

1.2 (MVP + Ads Dashboard + New Theme)

Status

Rascunho Final

Objetivo

Criar a plataforma definitiva de descoberta de servidores Open Tibia, focada em transpar√™ncia, UX moderna e sistema de Hype.

1. Vis√£o do Produto e Escopo

O OtservHub √© uma plataforma moderna para listagem e descoberta de servidores de Open Tibia (OTServer). Diferente dos concorrentes arcaicos, o OtservHub foca na experi√™ncia do usu√°rio (UX), na veracidade dos dados (combate a spoofing) e no engajamento social ("Hype").

1.1 Objetivos do MVP

Listagem Inteligente: Permitir que jogadores encontrem servidores baseados na data de lan√ßamento (foco em "New Servers").

Sistema de Hype: Substituir o sistema de "votos" tradicional por inten√ß√£o de jogar real (Aguardando, Vou Jogar, etc.).

Monetiza√ß√£o Self-Service: Dashboard onde donos de servidores podem comprar e gerenciar espa√ßos de destaque de forma aut√¥noma e transparente.

Seguran√ßa e Confian√ßa: Login social e valida√ß√£o de propriedade de servidor para evitar fraudes.

1.2 Fora do Escopo (Post-MVP)

Sistema de leil√£o autom√°tico (Bidding) onde o pre√ßo flutua baseado na demanda. No MVP, o pre√ßo √© fixo/tabelado.

Sistema de Guildas e Recrutamento de Times (War of Guilds ser√° apenas visual ou informativo simples no MVP).

Webhooks autom√°ticos para Discord.

Dashboard anal√≠tico avan√ßado (Analytics de cliques/impress√µes profundos) - Substitu√≠do por educa√ß√£o do usu√°rio sobre UTMs no MVP.

2. Personas de Usu√°rio

Persona

Descri√ß√£o

Necessidades Principais

O Jogador (Player)

Usu√°rio casual ou hardcore procurando um novo servidor para jogar.

Busca r√°pida, filtros precisos (vers√£o, mapa), saber onde a comunidade vai jogar (Hype), mobile-friendly.

O Admin (Dono)

Dono de servidor que quer divulgar seu projeto.

Cadastrar servidor, provar posse, visualizar disponibilidade de banners e comprar espa√ßos publicit√°rios.

O Gestor (Plataforma)

Administrador do OtservHub.

Moderar servidores, definir pre√ßos dos slots de publicidade, banir fraudes.

3. Funcionalidades Principais (Functional Requirements)

3.1 M√≥dulo: Home e Descoberta (P√∫blico)

A vitrine principal do site, acess√≠vel sem login.

FR-01: Listagem Principal (Countdown): A lista padr√£o deve ordenar os servidores por "Pr√≥ximos Lan√ßamentos" (Launch Date ASC) e servidores rec√©m-lan√ßados. Deve exibir um contador regressivo (ex: "Faltam 2d 05h").

FR-02: Filtros R√°pidos: Barra lateral ou superior permitindo filtrar por:

Vers√£o: (7.4, 8.60, 10.x, 12+, Custom).

Tipo de Mundo: (PvP, No-PvP, PvP-Enforced).

Mapa: (Global, Baiak, Custom).

FR-03: Busca Textual: Campo de busca para encontrar servidor pelo nome.

FR-04: Cards de Servidor: Cada item da lista deve mostrar: Logo, Servidor (nome), Lan√ßa Em (contagem regressiva com data do lan√ßamento abaixo), Vers√£o, Rate, Estilo, Sistemas (com √≠cone que abre modal simples ao passar mouse em cima mostrando os principais sistemas do ot), Mobile (√≠cone de ‚Äúcheck‚Äù ou ‚ÄúX‚Äù), Links √öteis.

FR-05: Vitrine de Sponsors (Steam-like):

Hero Banner: Destaque rotativo grande no topo (Slot Premium).

Spotlight: Cards destacados com bordas ou cores diferenciadas (Gold/Silver).

Nota: Estes espa√ßos s√£o alimentados automaticamente com base nas compras feitas no Dashboard de Patrocinados.

3.2 M√≥dulo: Detalhes do Servidor e Hype

P√°gina individual de cada servidor.

FR-06: P√°gina de Detalhes: Exibir descri√ß√£o completa, IP, porta, site oficial, screenshots (galeria simples) e v√≠deo (embed YouTube).

Bot√£o de Reportar: Vis√≠vel discretamente. Abre modal para den√∫ncia (Scam, Conte√∫do Impr√≥prio).

Download: Apenas links externos (Mediafire, Mega, Site Oficial). Hospedagem de bin√°rios (.exe) estritamente proibida no OtservHub.

FR-07: Bot√µes de Hype (Gamefication & Escassez):

Usu√°rios logados t√™m "Slots de Aten√ß√£o" limitados para garantir a veracidade do Hype.

Op√ß√µes e Limites:

üî• Vou Jogar (GOING): Peso 3. M√°ximo 3 servidores ativos por vez. (For√ßa escolha real).

üëÄ Aguardando (WAITING): Peso 2. M√°ximo 5 servidores ativos.

ü§î Talvez (MAYBE): Peso 1. Ilimitado (Funciona como favoritos/wishlist).

Valida√ß√£o: O banco de dados (Trigger) impede inser√ß√£o acima do limite, obrigando o usu√°rio a remover um antigo para adicionar um novo.

FR-08: Visualiza√ß√£o de Hype (Decaimento Temporal):

Hype Score = Soma dos pontos das intera√ß√µes realizadas EXCLUSIVAMENTE nos √∫ltimos 30 dias.

Decaimento: Votos com mais de 30 dias deixam de contar para o score automaticamente. Isso previne que servidores antigos dominem o ranking e obriga renova√ß√£o da comunidade.

3.3 M√≥dulo: Autentica√ß√£o e Perfil

FR-09: Social Login: Login obrigat√≥rio via Google ou Discord para interagir (Hype) ou cadastrar servidor.

Justificativa: Reduz bots e facilita o cadastro.

FR-10: Perfil do Usu√°rio: P√°gina simples mostrando "Servidores que estou acompanhando".

3.4 M√≥dulo: Cadastro e Gest√£o de Servidores (Donos)

FR-11: Cadastro de Servidor: Formul√°rio pedindo: Nome, IP, Porta, Vers√£o, Site, Data de Lan√ßamento, Banner (Upload), Descri√ß√£o.

FR-12: Valida√ß√£o de Propriedade (Anti-Fraud):

M√©todo √önico (MVP): Meta-tag HTTP. N√£o haver√° verifica√ß√£o via MOTD/TCP nesta vers√£o.

Fluxo:

O sistema gera um Token √önico (ex: otservhub-verify-a1b2).

O usu√°rio adiciona a meta-tag no site: `<meta name="otservhub-verification" content="TOKEN" />`.

O usu√°rio clica em "Verificar Agora". O backend faz um GET na URL cadastrada e valida o token.

Regra de Anti-Spam (3 Strikes):

Tentativas 1-3: Permitidas com delay m√≠nimo (10s).

Falha na 3¬™: Cooldown de 15 minutos.

Falha na 4¬™: Cooldown de 1 hora.

Disputas: Casos de roubo de propriedade/disputa de IP ser√£o resolvidos manualmente via Suporte (Admin), baseando-se na posse t√©cnica do dom√≠nio/servidor.

A p√°gina de cadastro deve mostrar este tutorial.

FR-13: Edi√ß√£o e Mutabilidade:

O dono pode editar informa√ß√µes b√°sicas.

Regra Cr√≠tica: Se o IP ou Website forem alterados, o selo `is_verified` √© revogado AUTOMATICAMENTE (via Database Trigger).

UX: Exibir aviso "‚ö†Ô∏è Alterar IP/Site remover√° a verifica√ß√£o temporariamente" no formul√°rio.

FR-18: Aceite Legal:

O formul√°rio de cadastro obriga o aceite dos "Termos de Uso e Pol√≠tica de Privacidade". O timestamp do aceite √© gravado no banco de dados (`tos_accepted_at`) para seguran√ßa jur√≠dica.

3.5 M√≥dulo: Dashboard de Patrocinados (Novo)

Funcionalidade exclusiva para usu√°rios autenticados donos de servidores verificados.

FR-14: Mapa de Slots (Inventory View):

O usu√°rio visualiza uma grade ou lista com todos os espa√ßos publicit√°rios dispon√≠veis no site (Ex: "Hero Banner - Posi√ß√£o 1", "Sidebar - Topo", "Spotlight - Categoria Baiak").

Visualiza√ß√£o de Status:

üü¢ Dispon√≠vel: Pode ser comprado imediatamente.

üî¥ Ocupado: Mostra qual servidor est√° ocupando e um contador regressivo ("Libera em: 2d 14h 30m").

FR-15: Detalhes do Slot: Ao clicar em um espa√ßo, exibir:

Nome do Slot: (ex: Hero Banner Home).

Dimens√µes da Imagem: (ex: 1920x400px).

Pre√ßo: Valor tabelado (ex: R$ 100,00).

Per√≠odo de Exibi√ß√£o: (ex: "V√°lido por 7 dias").

FR-16: Fluxo de Compra/Reserva:

Regra de Ouro: First-Come-First-Serve. N√£o h√° reserva nem prioridade de renova√ß√£o. O slot expira rigidamente no fim do contrato.

Se Dispon√≠vel: O usu√°rio seleciona o servidor dele, faz o upload do banner (se necess√°rio para aquele slot) e procede para o pagamento.

Gateway: Integra√ß√£o com Stripe.

Atomicidade: Permitir compra de m√∫ltiplos per√≠odos (ex: at√© 4 semanas consecutivas) em uma √∫nica transa√ß√£o. N√£o permitir compras com mais de 6 meses de anteced√™ncia (Escassez).

Se Ocupado: Bot√£o "Avise-me quando liberar" (Notify Wait). O sistema dispara e-mail para todos os interessados na hora exata da libera√ß√£o (00:00). A compra √© disputada por quem chegar primeiro (Gamification/Escassez).

 FR-17: Meus An√∫ncios: Lista mostrando os patroc√≠nios ativos do usu√°rio e o tempo restante de cada um.

Dica Pro (Educa√ß√£o do Cliente): No upload do banner, exibir mensagem: "Quer saber quantos players vieram pelo nosso banner? Use um link rastre√°vel (UTM) ou um encurtador (bit.ly) no campo 'Link de Destino'." (Substitui Dashboard de Analytics no MVP).

4. Requisitos N√£o-Funcionais (NFR)

NFR-01: Performance: O carregamento da Home deve ocorrer em menos de 1.5s (LCP). Uso de SSG (Static Site Generation) ou ISR para a lista principal √© recomendado.

NFR-02: Responsividade: Interface 100% adaptada para Mobile (onde 60%+ do tr√°fego ocorre).

NFR-03: SEO: Estrutura de URLs amig√°veis (otservhub.com/server/baiak-wars) e meta-tags din√¢micas para compartilhamento no Discord/WhatsApp.

NFR-04: Seguran√ßa: Prote√ß√£o contra SQL Injection e XSS. Rate limit na API de "Hype".

Anti-Bot: O Login Social (Google/Discord) ser√° a √∫nica barreira de entrada para o MVP. Captcha (Turnstile) descartado neste momento para reduzir atrito.

5. Arquitetura T√©cnica Sugerida

Baseado na pesquisa de intelig√™ncia para evitar os erros do concorrente (PHP legado/jQuery):

Frontend: React.js com framework Next.js (App Router).

Estiliza√ß√£o: Tailwind CSS (para rapidez e consist√™ncia com o design system proposto).

√çcones: Lucide-React ou FontAwesome.

Backend:

Op√ß√£o A (Serverless - Recomendada): Next.js API Routes + Supabase (PostgreSQL + Auth + Storage para imagens).

Banco de Dados: PostgreSQL.

Tabelas principais: users, servers, hypes, sponsors.

Hospedagem: Vercel (Frontend/API) + Supabase (DB/Storage).

Worker: GitHub Actions (Cron Job) para executar o Pinger (Script TCP) e atualizar status dos servidores. Evita estouro de tempo da Vercel.

Imagens: Obrigat√≥rio upload para Supabase Storage (Logos/Banners). Hotlinking proibido. Compress√£o client-side antes do upload.

6. Modelo de Dados Sugerido (Simplificado)

Tabela: Servers

id (UUID)

owner_id (FK User)

name (String)

ip_address (String)

port (Int)

launch_date (Timestamp)

version (FK public.game_versions) - Sele√ß√£o obrigat√≥ria de tabela de dom√≠nio.

slug (String Unique) - Gerado automaticamente com sufixo inteligente em caso de colis√£o (ex: baiak-wars-2). Usu√°rio pode editar antes de salvar.

is_verified (Boolean) - Diferencial principal contra c√≥pias.

hype_score (Int)

Tabela: AdSlots (Novo - Configura√ß√£o dos Espa√ßos)

id (Int)

name (String) - ex: "Hero Banner Home"

position_code (String) - ex: "HOME_HERO_1"

price (Decimal)

duration_days (Int) - ex: 7

Tabela: Sponsorships (Novo - Compras)

id (UUID)

server_id (FK Server)

slot_id (FK AdSlot)

start_date (Timestamp)

end_date (Timestamp)

status (Enum: ACTIVE, SCHEDULED, EXPIRED)

payment_status (Enum: PENDING, PAID)

Tabela: Hypes

id (UUID)

user_id (FK User)

server_id (FK Server)

type (Enum: WAITING, GOING, MAYBE)

created_at (Timestamp)

7. Design e UI (Nova Identidade Visual)

Conceito: "Branco Futurista & Minimalista". Uma ruptura completa com os designs "dark/trevosos" tradicionais de sites de Tibia. O foco √© clareza, tecnologia e leveza.

Paleta de Cores:

Fundo: Branco Gelo (#FAFAFA ou #F4F6F8) e Cinza Platina para √°reas de contraste sutil. Evitar preto chapado.

Acentos (Highlights): Cores neon vibrantes para elementos de a√ß√£o, mas usadas com muita parcim√¥nia (apenas bot√µes CTA, badges ou bordas de destaque). Exemplos:

Cyber Blue: #007AFF ou Ciano El√©trico (A√ß√µes principais).

Neon Purple: Para elementos "Premium/Sponsor".

Tipografia: Sans-serif moderna, limpa e com bom espa√ßamento (Ex: Inter, Roboto ou Geist Sans). T√≠tulos em peso Bold, corpo em Regular.

Estilo dos Elementos (UI):

Card Design: Elementos em cart√µes brancos puros (#FFFFFF) sobre o fundo gelo, com sombras extremamente suaves e difusas (Drop Shadows estilo "Glassmorphism" leve ou Apple-like).

Bordas: Arredondadas (Rounded-lg ou xl) para transmitir modernidade.

Layout da Listagem:

Limpo, com muito respiro (whitespace).

Colunas: Logo | Nome/IP (Tipografia forte) | Vers√£o (Badge sutil) | Contagem Regressiva (Destaque tipogr√°fico) | Bot√£o "Ver Detalhes" (Minimalista/Outline ou Ghost).

Sponsors (Vitrine):

Devem se integrar harmonicamente ao fundo branco.

Tags de categorias (Os mais Oldschools, Baiaks do momento) usando badges com cores past√©is ou contornos finos (Outlined Badges).

Destaques "Recomendado" podem ter um leve brilho (glow) da cor de acento atr√°s do card, sem poluir visualmente.

8. Defini√ß√£o de MVP vs Futuro

Feature

MVP (Agora)

Futuro (v2.0)

Login

Google / Discord

Email/Senha nativo

Verifica√ß√£o

Token no MOTD/Site

Valida√ß√£o via DNS ou Arquivo TXT

Sponsors

Dashboard Self-Service (Compra de Slots Fixos)

Sistema de Leil√£o Autom√°tico (Bidding)

Hype

Contagem simples

Gr√°fico de tend√™ncia de Hype

Integra√ß√£o

Nenhuma

Webhooks para Discord do servidor